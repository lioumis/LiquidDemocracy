<p-toast></p-toast>
<div class="login-container">
  <h2>Σύνδεση Χρήστη</h2>
  <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">
    <div class="form-group">
      <label for="username">Όνομα χρήστη / Διεύθυνση Email</label>
      <input
        type="text"
        id="username"
        formControlName="username"
      />
      @if (loginForm.get('username')?.invalid && loginForm.get('username')?.touched) {
        <div>
          <small class="error">Υποχρεωτικό πεδίο</small>
        </div>
      }
    </div>

    <div class="form-group">
      <label for="password">Κωδικός Πρόσβασης</label>
      <input
        type="password"
        id="password"
        formControlName="password"
      />
      @if (loginForm.get('password')?.invalid && loginForm.get('password')?.touched) {
        <div>
          <small class="error">Υποχρεωτικό πεδίο</small>
        </div>
      }
    </div>

    @if (loginForm.errors?.['invalidCredentials']) {
      <div>
        <small class="error">Το όνομα χρήστη ή ο κωδικός πρόσβασης είναι λάθος</small>
      </div>
      <p></p>
    }

    <div class="links">
      <a routerLink="/forgot-password">Επαναφορά Κωδικού πρόσβασης</a>
    </div>

    <p></p>

    <div class="button-container">
      <p-button routerLink="/register" severity="secondary" label="Εγγραφή"></p-button>
      <p-button type="submit" [disabled]="loginForm.invalid" label="Σύνδεση"></p-button>
    </div>

  </form>

</div>
